<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mohammed Muzammil Ahmed</title>

    <style>
      body {
        margin: 0;
        padding: 0;
        background: linear-gradient(to bottom right, #0f0f0f, #1a1a1a);
        color: white;
        font-family: "Poppins", sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
      }

      .profile-card {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 0 25px rgba(0, 0, 0, 0.8);
        border-radius: 15px;
        padding: 30px;
        width: 320px;
        text-align: center;
        transition: transform 0.3s ease;
        display: block;
      }

      .profile-card:hover {
        transform: scale(1.05);
      }

      .profile-card img {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        border: 3px solid #00ffcc;
        box-shadow: 0 0 15px #00ffcc;
        object-fit: cover;
      }

      .profile-card h1 {
        font-size: 22px;
        margin: 15px 0 5px;
        color: #00ffcc;
      }

      .profile-card p {
        font-size: 15px;
        color: #ccc;
      }

      .back-btn {
        margin-top: 30%;
        background: #00ffcc;
        color: #000;
        padding: 5px 25px;
        border-radius: 25px;
        text-decoration: none;
        font-weight: bold;
        transition: all 0.3s;
      }

      .back-btn:hover {
        background: #00bfa5;
        color: white;
      }
      .member-about p {
        margin: 5% 2;
        border: 2px solid green;
        border-radius: 45px;
        box-shadow: 0 0 40px rgba(255, 6, 6, 0.8);
        padding: 2%;
      }
      .member-about {
        margin: 0 4%;
      }
      .member-about h2 {
        margin-left: 40%;
        font-size: 50px;
        color: antiquewhite;
      }
    </style>
  </head>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 50px;
      background-color: #f8f9fa;
    }
    table {
      margin: 20px auto;
      border-collapse: collapse;
      width: 60%;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      background-color: white;
    }
    td,
    th {
      border: 1px solid #888;
      padding: 10px;
      text-align: left;
    }
    th {
      background-color: #28a745;
      color: white;
    }
    #preview {
      width: 300px;
      margin-top: 20px;
      border-radius: 10px;
    }
    button {
      margin-top: 15px;
      padding: 8px 16px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
  </style>
  <body>
    <div class="profile-card">
      <img src="memebers img/SAIF BHAI.jpg" alt="vaseel" />
      <h1>Mohammed Muzammil Ahmed</h1>
      <a href="index.html" class="back-btn">← Back to Home</a>
    </div>
    <div class="member-about">
      <h2>Profession</h2>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda,
        optio quas. Minus sunt repellat, error quos vero quae aspernatur quo
        beatae atque nam natus, necessitatibus <br />>ulla minima rerum eum
        sint. Sint eos, nobis animi consectetur molestiae nulla <br />libero
        aliquid iste voluptatum impedit necessitatibus beatae voluptatibus.
        Saepe sapiente impedit ex adipisci deserunt accusantium dignissimos
        maiores voluptatum nemo. Exercitationem iusto saepe aperiam? Eligendi,
        dolorem, natus, aperiam reprehenderit tempore iure eveniet
        <br />adipisci placeat asperiores saepe deserunt. Facilis obcaecati
        autem quod ipsam animi voluptatibus eius quia corporis atque modi sequi
        soluta qui, mollitia voluptates? Aliquid mollitia asperiores quis
        accusamus sapiente. Magnam eligendi illo natus<br />
        quasi, ipsa dolor pariatur cum quod, vitae et, nisi dolorem
        exercitationem aperiam eos? Totam quas maxime in accusamus nisi
        eligendi. Quo nam fugiat laudantium tempore inventore, rerum temporibus!
        Repudiandae iste facilis, officia repellendus laudantium voluptatum quas
        sunt maxime, voluptatibus, sit suscipit? Explicabo officiis non
        consequuntur culpa sapiente libero dolor aperiam? Sed porro minus
        ducimus libero architecto, cum commodi labore accusantium molestiae et
        tempore deleniti eveniet harum quas exercitationem amet aperiam est vel
      </p>
    </div>
  </body>
  <h2>Upload Screenshot to Extract & Save Data</h2>
  <input type="file" id="imageInput" accept="image/*" /><br />
  <img id="preview" src="" alt="Preview" />

  <table id="resultTable" style="display: none">
    <tr>
      <th>Field</th>
      <th>Value</th>
    </tr>
    <tr>
      <td>Transaction</td>
      <td id="transaction"></td>
    </tr>
    <tr>
      <td>Date & Time</td>
      <td id="datetime"></td>
    </tr>
    <tr>
      <td>Paid To</td>
      <td id="paidto"></td>
    </tr>
    <tr>
      <td>UPI ID</td>
      <td id="upi"></td>
    </tr>
    <tr>
      <td>Amount</td>
      <td id="amount"></td>
    </tr>
  </table>

  <button id="clearData" style="display: none">Clear Saved Data</button>

  <script>
    const imageInput = document.getElementById("imageInput");
    const preview = document.getElementById("preview");
    const table = document.getElementById("resultTable");
    const clearBtn = document.getElementById("clearData");

    // Restore saved data on page load
    window.onload = () => {
      const savedData = JSON.parse(localStorage.getItem("transactionData"));
      if (savedData) {
        document.getElementById("transaction").innerText =
          savedData.transaction;
        document.getElementById("datetime").innerText = savedData.datetime;
        document.getElementById("paidto").innerText = savedData.paidto;
        document.getElementById("upi").innerText = savedData.upi;
        document.getElementById("amount").innerText = savedData.amount;
        table.style.display = "table";
        clearBtn.style.display = "inline-block";
      }
    };

    imageInput.addEventListener("change", async (event) => {
      const file = event.target.files[0];
      if (!file) return;

      // Show preview
      const reader = new FileReader();
      reader.onload = (e) => {
        preview.src = e.target.result;
      };
      reader.readAsDataURL(file);

      // Wait 10 seconds before extracting (for effect)
      await new Promise((r) => setTimeout(r, 10000));

      // OCR extract
      const {
        data: { text },
      } = await Tesseract.recognize(file, "eng");
      console.log(text);

      const transaction = text.match(/Transaction\s+Successful/i)
        ? "Transaction Successful"
        : "Not found";
      const datetime =
        text.match(
          /\d{2}:\d{2}\s*(?:am|pm)\s*on\s*\d{2}\s*\w+\s*\d{4}/i
        )?.[0] || "Not found";
      const paidto = text.match(/[A-Z]+\s+[A-Z]+/i)?.[0] || "Not found";
      const upi = text.match(/[A-Z0-9]+@[a-z]+/i)?.[0] || "Not found";
      const amount = text.match(/₹\s*\d+/)?.[0] || "Not found";

      document.getElementById("transaction").innerText = transaction;
      document.getElementById("datetime").innerText = datetime;
      document.getElementById("paidto").innerText = paidto;
      document.getElementById("upi").innerText = upi;
      document.getElementById("amount").innerText = amount;

      table.style.display = "table";
      clearBtn.style.display = "inline-block";

      // Save data to localStorage
      localStorage.setItem(
        "transactionData",
        JSON.stringify({ transaction, datetime, paidto, upi, amount })
      );
    });

    clearBtn.addEventListener("click", () => {
      localStorage.removeItem("transactionData");
      table.style.display = "none";
      clearBtn.style.display = "none";
    });
  </script>
</html>
